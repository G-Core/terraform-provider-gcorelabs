---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gcore_instance Resource - terraform-provider-gcorelabs"
subcategory: ""
description: |-
  Represent instance
---

# gcore_instance (Resource)

Represent instance

## Example Usage

```terraform
provider gcore {
  user_name = "test"
  password = "test"
  gcore_platform = "https://api.gcdn.co"
  gcore_api = "https://api.cloud.gcorelabs.com"
}

resource "gcore_network" "network" {
  name = "network_example"
  mtu = 1450
  type = "vxlan"
  region_id = 1
  project_id = 1
}

resource "gcore_subnet" "subnet" {
  name = "subnet_example"
  cidr = "192.168.10.0/24"
  network_id = gcore_network.network.id
  dns_nameservers = ["8.8.4.4", "1.1.1.1"]

  host_routes {
    destination = "10.0.3.0/24"
    nexthop = "10.0.0.13"
  }

  gateway_ip = "192.168.10.1"
  region_id = 1
  project_id = 1
}

resource "gcore_volume" "first_volume" {
  name = "boot volume"
  type_name = "ssd_hiiops"
  size = 5
  image_id = "f4ce3d30-e29c-4cfd-811f-46f383b6081f"
  region_id = 1
  project_id = 1
}

resource "gcore_volume" "second_volume" {
  name = "second volume"
  type_name = "ssd_hiiops"
  size = 5
  region_id = 1
  project_id = 1
}

resource "gcore_instance" "instance" {
  flavor_id = "g1-standard-2-4"
  name = "test"

  volume {
    source = "existing-volume"
    volume_id = gcore_volume.first_volume.id
    boot_index = 0
  }

  volume {
    source = "existing-volume"
    volume_id = gcore_volume.second_volume.id
    boot_index = 1
  }

  interface {
    type = "subnet"
    network_id = gcore_network.network.id
    subnet_id = gcore_subnet.subnet.id
    //port_id = null
    //ip_address = null
    //fip_source = null
    //existing_fip_id = null
  }


  security_group {
    id = "d75db0b2-58f1-4a11-88c6-a932bb897310"
    name = "default"
  }

  metadata {
    key = "some_key"
    value = "some_data"
  }

  configuration {
    key = "some_key"
    value = "some_data"
  }

  region_id = 1
  project_id = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **flavor_id** (String)
- **interface** (Block Set, Min: 1) (see [below for nested schema](#nestedblock--interface))
- **volume** (Block Set, Min: 1) (see [below for nested schema](#nestedblock--volume))

### Optional

- **addresses** (Block List) (see [below for nested schema](#nestedblock--addresses))
- **allow_app_ports** (Boolean)
- **configuration** (Block List) (see [below for nested schema](#nestedblock--configuration))
- **flavor** (Map of String)
- **id** (String) The ID of this resource.
- **keypair_name** (String)
- **last_updated** (String)
- **metadata** (Block List) (see [below for nested schema](#nestedblock--metadata))
- **name** (String)
- **name_templates** (List of String)
- **password** (String)
- **project_id** (Number)
- **project_name** (String)
- **region_id** (Number)
- **region_name** (String)
- **security_group** (Block List) Firewalls list (see [below for nested schema](#nestedblock--security_group))
- **server_group** (String)
- **status** (String)
- **userdata** (String)
- **username** (String)
- **vm_state** (String) Current vm state, use stopped to stop vm and active to start

<a id="nestedblock--interface"></a>
### Nested Schema for `interface`

Optional:

- **existing_fip_id** (String)
- **fip_source** (String)
- **ip_address** (String)
- **network_id** (String) required if type is 'subnet' or 'any_subnet'
- **order** (Number) Order of attaching interface
- **port_id** (String) required if type is  'reserved_fixed_ip'
- **subnet_id** (String) required if type is 'subnet'
- **type** (String) Avalilable value is 'subnet', 'any_subnet', 'external', 'reserved_fixed_ip'


<a id="nestedblock--volume"></a>
### Nested Schema for `volume`

Required:

- **source** (String) Currently available only 'existing-volume' value

Optional:

- **attachment_tag** (String)
- **boot_index** (Number) If boot_index==0 volumes can not detached
- **delete_on_termination** (Boolean)
- **id** (String) The ID of this resource.
- **image_id** (String)
- **name** (String)
- **size** (Number)
- **type_name** (String)
- **volume_id** (String)


<a id="nestedblock--addresses"></a>
### Nested Schema for `addresses`

Required:

- **net** (Block List, Min: 1) (see [below for nested schema](#nestedblock--addresses--net))

<a id="nestedblock--addresses--net"></a>
### Nested Schema for `addresses.net`

Required:

- **addr** (String)
- **type** (String)



<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--security_group"></a>
### Nested Schema for `security_group`

Required:

- **id** (String) Firewall unique id
- **name** (String)

## Import

Import is supported using the following syntax:

```shell
# import using <project_id>:<region_id>:<instance_id> format
terraform import gcore_instance.instance1 1:6:447d2959-8ae0-4ca0-8d47-9f050a3637d7
```
